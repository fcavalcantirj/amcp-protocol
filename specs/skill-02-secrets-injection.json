{
  "category": "proactive-amcp-skill",
  "description": "Inject secrets to files, env vars, systemd on rehydration",
  "steps": [
    "injectSecrets(secrets, configRoot) - restores all secrets to their targets",
    "Handle target kind='file': write to JSON file at jsonPath",
    "  Example: auth-profiles.json at profiles.anthropic:token.key",
    "Handle target kind='env': write to ~/.bashrc or ~/.profile",
    "  Example: export OPENAI_API_KEY=sk-...",
    "Handle target kind='systemd': update service Environment",
    "  Example: add to openclaw-gateway.service [Service] Environment=",
    "Backup existing files before modification",
    "Reload systemd if any systemd targets modified",
    "Source env files or restart shell session",
    "Verify: API keys in config files work",
    "Verify: Env vars accessible in shell",
    "Verify: Systemd services have env vars after restart",
    "Verify: Backups created for all modified files"
  ],
  "passes": false
}
