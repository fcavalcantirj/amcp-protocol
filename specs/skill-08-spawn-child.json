{
  "id": "skill-08-spawn-child",
  "title": "Spawn Child Agent (proactive-amcp)",
  "status": "draft",
  "version": "0.1.0",
  "created": "2026-02-14",
  "author": "ClaudiusThePirateEmperor",
  
  "summary": "Skill script to spawn and register child agent instances",
  
  "implements": "protocol-08-child-naming",
  
  "script": "scripts/spawn-child.sh",
  
  "inputs": {
    "INSTANCE_NAME": {
      "required": true,
      "description": "Name for the child instance (lowercase, alphanumeric + underscore)",
      "example": "dana"
    },
    "PARENT_SOLVR_NAME": {
      "required": true,
      "source": "Auto-detected from TOOLS.md or Solvr /me",
      "description": "Parent agent's Solvr account name"
    },
    "SOLVR_API_KEY": {
      "required": true,
      "source": "AgentMemory vault",
      "description": "Parent's Solvr API key (for registration call)"
    }
  },
  
  "outputs": {
    "CHILD_SOLVR_NAME": "Registered name: {PARENT}_child_{INSTANCE}",
    "CHILD_API_KEY": "New API key for child (store in child's vault)"
  },
  
  "flow": [
    "1. Validate INSTANCE_NAME (lowercase, no special chars)",
    "2. Get PARENT_SOLVR_NAME from Solvr /me endpoint",
    "3. Build child name: {PARENT}_child_{INSTANCE}",
    "4. POST to Solvr /v1/agents/register",
    "5. Store returned API key",
    "6. Inject into child's AgentMemory vault",
    "7. Update child's TOOLS.md with Solvr config"
  ],
  
  "validation": {
    "pre_register": [
      "INSTANCE_NAME matches ^[a-z0-9_]{1,32}$",
      "Parent Solvr identity verified",
      "Child name not already taken (check Solvr)"
    ],
    "post_register": [
      "API key received",
      "Child can authenticate with new key"
    ]
  },
  
  "error_handling": {
    "name_taken": "Append numeric suffix: _child_{name}_2",
    "api_failure": "Retry 3x with backoff, then escalate",
    "invalid_name": "Reject with clear error message"
  }
}
